# I/O Haedware
## I/O Haedware
- Variety of I/O device
	- Storage
		- HDD、SSD
	- Transmission
		- internet interface
	- Human-interface
		- keyboard
- ***Common concept***
	- **Port**
		- connection point for device
		- ex: thunderbolt、usb port、SATA、HDMI...
	- **Bus**
		- A set of *wire* and define *protocol*
		- Can be *daisy chain* 、p2p、or hub(1-多) 
			- *daisy chain*:通常是指將多個裝置依序串接在一起，形成一個鏈狀結構。
				- \![[Pasted image 20241008223914.png|example]]
		- PCIe bus(system bus)、expansion bus(I/O bus)
			- \![[Pasted image 20241008224625.png|example]]
	- **Device Controller**
		- A collection of ***electronics***  and can operate a port ,a bus or a device
			- 電子設備的集合，可操作連接埠、匯流排或設備
		- \![[Pasted image 20241008225941.png]]
### Internal Structure of a  Device
- Simple: a few hardware chips
	- keyboard
- Complex: include CPU,memory,some device-specific chip(可以執行一些軟體)
	- frimware running on CPU
	- SSD,無線網路晶片
![[Pasted image 20241008231602.png]]
### Hardware Interface
> [!question] How to give commands and data to controller ?
> - by register

![[Pasted image 20241008231802.png]]
## A Simplified I/O Hardware

![[Pasted image 20241009092917.png]]
![[Pasted image 20241009092904.png]]
![[Pasted image 20241009093734.png]]
![[Pasted image 20241009095122.png]]
- polling -> busy waiting
- programmed i/o(pio/cpu io)
	- 使用 cpu transfer data (沒效率cpu)
### sol for polling
![[Pasted image 20241009101302.png]]
![[12.OS 2024-10-09 10.16.39.excalidraw|599]]
### sol for programmed i/o [[DMA]]
![[Pasted image 20241009102145.png]]
![[Pasted image 20241009102634.png]]
 
## Method of Device Interaction
> [!question] How to communicate with devices？
> 	＝ how to read/write these device registers？

> [!sol] **sol：** assign each device reg a num,id or address

> [!question] address 如何決定？

![[Pasted image 20241009104617.png]]
![[Pasted image 20241009105205.png]]
# Application I/O interface
# Kernel I/O Subsystem
# Transforming I/O Requests to Hardware Operations
# Streams
# Performance

